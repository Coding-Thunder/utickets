"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{3168:function(e,a,t){t.d(a,{Z:function(){return c}});var r=t(7440),s=t(8472),i=t(357);let n=r.vc.productionServerUrl,l=s.Z.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});s.Z.create({baseURL:i.env.NEXT_API_BASE_URL,timeout:1e4,headers:{"Content-Type":"application/json"}}).interceptors.request.use(e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e),e=>Promise.reject(e));var o={publicAxiosInstance:l},c={login:async e=>await o.publicAxiosInstance.post("/auth/existing-user-login",e),signup:async e=>await o.publicAxiosInstance.post("/auth/register-a-new-user",e),fetchAirports:async e=>{try{return(await o.publicAxiosInstance.get("/amadeus/airports",{params:{keyword:e,subType:"AIRPORT",page:0}})).data}catch(e){console.error("Error fetching airports:",e)}},fetchAvailableFlights:async e=>{try{return(await o.publicAxiosInstance.get("/amadeus/search-flights",{params:e})).data}catch(e){throw console.error("Error fetching available flights:",e),e}}}},5537:function(e,a,t){t.d(a,{default:function(){return w}});var r=t(7437),s=t(2265),i=t(8523),n=t(7440);let l=i.fC,o=i.xz,c=s.forwardRef((e,a)=>{let{className:t,align:s="center",sideOffset:l=4,...o}=e;return(0,r.jsx)(i.h_,{children:(0,r.jsx)(i.VY,{ref:a,align:s,sideOffset:l,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});c.displayName=i.VY.displayName;var d=t(3168),u=e=>{let{label:a,value:t,onSelectAirport:i,isOpen:n,setIsOpen:u}=e,[h,m]=(0,s.useState)(""),[p,x]=(0,s.useState)([]),[f,g]=(0,s.useState)(null),[y,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(h.length>2){A(!0);try{let{data:e}=await d.Z.fetchAirports(h);if(e&&e.length>0){let a=e.map(e=>({iataCode:e.iataCode,name:e.name,cityName:e.address.cityName,countryName:e.address.countryName}));x(a)}else x([])}catch(e){console.error("Error fetching airports:",e),x([])}finally{A(!1)}}else x([])})()},[h]);let b=e=>{g(e),m(""),x([]),i(e),u(!1)};return(0,r.jsxs)(l,{open:n,onOpenChange:u,children:[(0,r.jsxs)(o,{className:"w-fit text-gray-600 flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("div",{className:"py-2 rounded-md text-2xl font-bold",children:(0,r.jsx)("p",{children:f?f.cityName:t})}),(0,r.jsxs)("p",{className:"text-[12px]",children:["[",f?f.iataCode:"SIN","] ",f?f.name:"Changi Airport"]})]}),(0,r.jsxs)(c,{className:"bg-white p-4 rounded-md shadow-lg",children:[(0,r.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Search airports...",className:"w-full border border-gray-300 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("div",{className:"max-h-60 overflow-y-auto",children:y?(0,r.jsx)("p",{className:"text-gray-500 text-center",children:"Loading..."}):p.length>0?p.map(e=>(0,r.jsxs)("div",{onClick:()=>b(e),className:"cursor-pointer p-2 hover:bg-blue-100 transition-colors duration-200",children:[(0,r.jsx)("p",{className:"font-bold",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.cityName,", ",e.countryName," (",e.iataCode,")"]})]},e.iataCode)):(0,r.jsx)("p",{className:"text-gray-500",children:"No airports found"})})]})]})},h=t(6343),m=t(4241),p=t(495),x=t(518),f=t(7592),g=t(5901);function y(e){let{className:a,classNames:t,showOutsideDays:s=!0,...i}=e;return(0,r.jsx)(g._W,{showOutsideDays:s,className:(0,n.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,p.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,p.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...a}=e;return(0,r.jsx)(x.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...a}=e;return(0,r.jsx)(f.Z,{className:"h-4 w-4"})}},...i})}y.displayName="Calendar";var A=e=>{let{setDate:a,date:t}=e;return(0,r.jsxs)(l,{children:[t?(0,r.jsx)(o,{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,r.jsx)("p",{className:"font-bold text-3xl",children:(0,h.WU)(t,"EEE, MMM d, yyyy").split(",")[1].split(" ")[2]}),(0,r.jsxs)("p",{children:[(0,h.WU)(t,"EEE, MMM d, yyyy").split(",")[1].split(" ")[1],", ",(0,h.WU)(t,"EEE, MMM d, yyyy").split(",")[2]]})]})})}):(0,r.jsx)(o,{asChild:!0,children:(0,r.jsxs)(p.z,{variant:"outline",className:(0,n.cn)("w-fit justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Pick a date"})]})}),(0,r.jsx)(c,{className:"w-auto p-0 bg-white",children:(0,r.jsx)(y,{mode:"single",selected:t,onSelect:a,initialFocus:!0})})]})},b=e=>{let{date:a,setDate:t,label:s}=e;return(0,r.jsxs)("div",{className:"w-fit   text-gray-600  flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[(0,r.jsx)("div",{className:"flex justify-center items-center w-fit mb-2",children:(0,r.jsx)("p",{children:s})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)(A,{date:a,setDate:t})}),a&&(0,r.jsx)("p",{className:"text-[12px]",children:(0,h.WU)(a,"EEE, MMM d, yyyy").split(",")[0]})]})},v=e=>{let{label:a,adults:t,setAdults:i,children:n,setChildren:d,infants:u,setInfants:h,selectedClass:m,setSelectedClass:x}=e,[f,g]=(0,s.useState)("");return(0,r.jsxs)(l,{children:[(0,r.jsxs)(o,{className:"w-fit text-gray-600 flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("div",{className:"py-2 rounded-none w-full font-bold",children:(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"text-2xl",children:[t+n+u," "]}),(0,r.jsx)("span",{children:"Traveler(s)"})]})}),(0,r.jsx)("p",{className:"text-[12px]",children:m||"Select your travelers"})]}),(0,r.jsx)(c,{className:"bg-white p-4 rounded-md shadow-lg",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Adults (12+ Years)"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.z,{variant:"outline",onClick:()=>i(Math.max(1,t-1)),children:"-"}),(0,r.jsx)("span",{children:t}),(0,r.jsx)(p.z,{variant:"outline",onClick:()=>i(t+1),children:"+"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Children (2-12 Years)"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.z,{variant:"outline",onClick:()=>d(Math.max(0,n-1)),children:"-"}),(0,r.jsx)("span",{children:n}),(0,r.jsx)(p.z,{variant:"outline",onClick:()=>d(n+1),children:"+"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Infants (0-2 Years)"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.z,{variant:"outline",onClick:()=>h(Math.max(0,u-1)),children:"-"}),(0,r.jsx)("span",{children:u}),(0,r.jsx)(p.z,{variant:"outline",onClick:()=>{u<t?(h(u+1),g("")):(g("Infants cannot exceed the number of adults."),setTimeout(()=>{g("")},5e3))},children:"+"})]})]}),f&&(0,r.jsx)("p",{className:"text-red-600 text-sm",children:f}),(0,r.jsx)("hr",{className:"my-2 border-gray-300"}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"flex flex-col space-y-2",children:["Economy","Premium Economy","Business","First Class"].map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",value:e,checked:m===e,onChange:()=>x(e),className:"mr-2"}),e]},e))})})]})})]})},j=t(6463),w=()=>{let e=(0,j.useRouter)(),[a,t]=s.useState(),[i,n]=s.useState("Singapore"),[l,o]=s.useState("Singapore"),[c,d]=s.useState(1),[h,m]=s.useState(0),[p,x]=s.useState(0),[f,g]=s.useState("Economy"),[y,A]=s.useState(!1),[w,N]=s.useState(!1);return(0,r.jsx)("div",{className:"w-fit h-fit p-6 md:p-0 mx-auto text-gray-900 bg-white rounded-lg shadow-lg overflow-hidden",children:(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault();let r=new URLSearchParams({fromAirport:i,toAirport:l,departureDate:(null==a?void 0:a.toISOString())||"",adults:c.toString(),children:h.toString(),infants:p.toString(),selectedClass:f}).toString();e.push("/available-flights?".concat(r))},className:"flex flex-col md:flex-row",children:[(0,r.jsx)(u,{label:"From",value:i,onSelectAirport:e=>{n(e.iataCode),A(!1)},isOpen:y,setIsOpen:A}),(0,r.jsx)(u,{label:"To",value:l,onSelectAirport:e=>{o(e.iataCode),N(!1)},isOpen:w,setIsOpen:N}),(0,r.jsx)(b,{label:"Departure Date",date:a,setDate:t}),(0,r.jsx)(v,{label:"Travelers",adults:c,setAdults:d,children:h,setChildren:m,infants:p,setInfants:x,selectedClass:f,setSelectedClass:g}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Search Flights"})]})})}},495:function(e,a,t){t.d(a,{d:function(){return o},z:function(){return c}});var r=t(7437),s=t(2265),i=t(1538),n=t(2218),l=t(7440);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:a,...d})});c.displayName="Button"},7440:function(e,a,t){t.d(a,{C5:function(){return n},S3:function(){return l},_x:function(){return c},cn:function(){return i},vc:function(){return o}});var r=t(4839),s=t(6164);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}let n={home:"/",search_flights:"/search-flights",my_bookings:"/my-bookings",about:"/about",support:"/support",sign_in:"/sign-in",sign_up:"/sign-up",terms_and_conditons:"/terms-and-conditons",sign_in_success:"/sign-in-success"},l=(e,a)=>{console.log(e,"error");let t=e.response.data.message;Array.isArray(t)&&a({description:t[0],duration:2e3}),a({description:t,duration:2e3})},o={localServerUrl:"http://localhost:3002",productionServerUrl:"https://api.universalticketss.com"},c=e=>({AA:"American Airlines",AC:"Air Canada",AD:"Azul Brazilian Airlines",AE:"Mandarin Airlines",AF:"Air France",AG:"Aloha Airlines",AH:"Air Algerie",AK:"Alaska Airlines",AM:"Aeromexico",AS:"Alaska Airlines",AT:"Royal Air Maroc",AV:"Avianca",AY:"Finnair",B6:"JetBlue Airways",BA:"British Airways",BD:"BMI",BF:"Air Burkina",BG:"Biman Bangladesh Airlines",BR:"EVA Air",CA:"Air China",CI:"China Airlines",CL:"Lufthansa CityLine",CM:"Copa Airlines",CX:"Cathay Pacific",DA:"Flybe",DL:"Delta Air Lines",EI:"Aer Lingus",EK:"Emirates",EY:"Etihad Airways",FJ:"Fiji Airways",FM:"Shanghai Airlines",FR:"Ryanair",GA:"Garuda Indonesia",GF:"Gulf Air",GL:"Air Greenland",GQ:"Air Guinea",GY:"Sky Airline",HA:"Hawaiian Airlines",HX:"Hong Kong Airlines",IB:"Iberia",IC:"Indian Airlines",IL:"Icelandair",IR:"Iran Air",JL:"Japan Airlines",JM:"Air Jamaica",KL:"KLM Royal Dutch Airlines",KM:"Air Malta",LA:"LATAM Airlines",LH:"Lufthansa",LX:"Swiss International Air Lines",LY:"El Al",MA:"Moroccan Airlines",MH:"Malaysia Airlines",MU:"China Eastern Airlines",NZ:"Air New Zealand",OK:"Czech Airlines",OS:"Austrian Airlines",OZ:"Asiana Airlines",P2:"PGA-Portugalia Airlines",QF:"Qantas Airways",QR:"Qatar Airways",RA:"Royal Nepal Airlines",RJ:"Royal Jordanian",SK:"Scandinavian Airlines",SL:"Thai Smile Airways",SQ:"Singapore Airlines",SU:"Aeroflot",SV:"Saudia",TG:"Thai Airways",TK:"Turkish Airlines",UA:"United Airlines",UL:"SriLankan Airlines",US:"US Airways",VA:"Virgin Australia",VS:"Virgin Atlantic Airways",WN:"Southwest Airlines",WY:"Oman Air",YX:"Republic Airways"})[e]||e}}]);