(()=>{var e={};e.id=865,e.ids=[865],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(8757),s(2068),s(5866),s(7373);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(root)",{children:["available-flights",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8757)),"/home/vinay/Desktop/Abhinav/utickets/client/app/(root)/available-flights/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2068)),"/home/vinay/Desktop/Abhinav/utickets/client/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7373)),"/home/vinay/Desktop/Abhinav/utickets/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/vinay/Desktop/Abhinav/utickets/client/app/(root)/available-flights/page.tsx"],m="/(root)/available-flights/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(root)/available-flights/page",pathname:"/available-flights",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},932:(e,t,s)=>{Promise.resolve().then(s.bind(s,6642))},6642:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(7577),i=s(5047),n=s(5848),l=s(3197),o=s(4034);function c(e){return(0,o.w_)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"},child:[]}]})(e)}function d(e){return(0,o.w_)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]},{tag:"path",attr:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"},child:[]}]})(e)}var m=s(772),u=s(7863);let x=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));x.displayName="Card";let p=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",e),...t}));p.displayName="CardHeader";let h=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,u.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));h.displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let f=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("p-6 pt-0",e),...t}));f.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,u.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";let g=(e,t)=>{let s;return(...r)=>{s&&clearTimeout(s),s=setTimeout(()=>{e(...r)},t)}},v=()=>{let e=(0,i.useSearchParams)(),t=e.get("fromAirport")||"",s=e.get("toAirport")||"",o=e.get("departureDate")||"",v=e.get("adults")||"0",b=e.get("children")||"0",N=e.get("infants")||"0",j=e.get("selectedClass")||"",[y,w]=(0,a.useState)([]),[q,P]=(0,a.useState)(!0),[_,k]=(0,a.useState)(""),[C,A]=(0,a.useState)(!0);(0,a.useEffect)(()=>()=>{A(!1)},[]);let S=(0,a.useCallback)(g(async()=>{if(t&&s&&o){P(!0);try{let e=await n.Z.fetchAvailableFlights({from:t,to:s,date:o,adults:Number(v),children:Number(b),infants:Number(N),classType:j});C&&w(e)}catch(e){console.error("Error fetching flights:",e),C&&k("Failed to fetch available flights. Please try again.")}finally{C&&P(!1)}}},500),[t,s,o,v,b,N,j]);(0,a.useEffect)(()=>{S()},[S]);let D=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return q?r.jsx("p",{className:"text-center text-lg",children:"Loading flights..."}):_?r.jsx("p",{className:"text-center text-red-600",children:_}):(0,r.jsxs)("div",{className:"w-full mx-auto px-4 bg-gradient-to-r from-blue-100 to-blue-300",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Available Flights"}),r.jsx("div",{className:"p-4 mb-6 rounded-md shadow-md",children:r.jsx(l.default,{})}),r.jsx("div",{className:"w-[50vw] mx-auto",children:y.length>0?r.jsx("ul",{className:"space-y-6",children:y.map(e=>r.jsx("li",{children:(0,r.jsxs)(x,{className:"bg-white border shadow-lg p-2 w-full transition duration-300 ease-in-out transform hover:scale-105",children:[(0,r.jsxs)(p,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[r.jsx(h,{className:"text-xl font-semibold",children:(0,u._x)(e.itineraries[0].segments[0].carrierCode)}),r.jsx("p",{className:"text-sm text-gray-500",children:e.itineraries[0].segments[0].carrierCode})]}),(0,r.jsxs)("div",{className:"text-lg font-bold w-full flex justify-between items-center",children:[(0,r.jsxs)("p",{children:[e.price.currency," ",e.price.grandTotal]}),r.jsx(m.z,{className:"bg-blue-600 hover:bg-blue-500 ml-4",children:"Book Now"})]})]}),(0,r.jsxs)(f,{className:"px-0 py-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium",children:e.itineraries[0].segments[0].departure.iataCode}),r.jsx(d,{className:"mx-2"}),r.jsx("span",{className:"font-medium",children:new Date(e.itineraries[0].segments[0].departure.at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),r.jsx(c,{className:"mx-2"}),r.jsx("span",{className:"font-medium",children:e.itineraries[0].segments[e.itineraries[0].segments.length-1].arrival.iataCode}),r.jsx("span",{className:"ml-2 font-medium",children:new Date(e.itineraries[0].segments[e.itineraries[0].segments.length-1].arrival.at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:D(o)})]}),r.jsx("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm font-medium",children:[e.itineraries[0].duration.replace("PT","").replace("H","h "),e.itineraries[0].segments[0].numberOfStops," stop",1!==e.itineraries[0].segments[0].numberOfStops?"s":""]})}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[r.jsx("span",{className:"font-medium",children:e.itineraries[0].segments[0].arrival.iataCode}),r.jsx("span",{className:"font-medium",children:new Date(e.itineraries[0].segments[0].arrival.at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("p",{className:`text-sm ${e.refundable?"text-green-600 font-bold":"text-red-600 font-bold"}`,children:e.refundable?"Refundable":"Non-refundable"})})]})]})},e.id))}):r.jsx("p",{className:"text-center text-lg",children:"No flights available for the selected criteria."})})]})}},8757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=s(8570);let a=(0,r.createProxy)(String.raw`/home/vinay/Desktop/Abhinav/utickets/client/app/(root)/available-flights/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`/home/vinay/Desktop/Abhinav/utickets/client/app/(root)/available-flights/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,168,126,586,460,352,734,945,780,197],()=>s(5792));module.exports=r})();