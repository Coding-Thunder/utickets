"use strict";exports.id=197,exports.ids=[197],exports.modules={5848:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(7863),r=a(4099);let n=s.vc.productionServerUrl,i=r.Z.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});r.Z.create({baseURL:process.env.NEXT_API_BASE_URL,timeout:1e4,headers:{"Content-Type":"application/json"}}).interceptors.request.use(e=>(e.headers.Authorization=`Bearer ${localStorage.getItem("token")}`,e),e=>Promise.reject(e));let l={publicAxiosInstance:i},o={auth:{REGISTER_A_NEW_USER:"/auth/register-a-new-user",EXISTING_USER_LOGIN:"/auth/existing-user-login"}},d={login:async e=>await l.publicAxiosInstance.post(o.auth.EXISTING_USER_LOGIN,e),signup:async e=>await l.publicAxiosInstance.post(o.auth.REGISTER_A_NEW_USER,e),fetchAirports:async e=>{try{return(await l.publicAxiosInstance.get("/amadeus/airports",{params:{keyword:e,subType:"AIRPORT",page:0}})).data}catch(e){console.error("Error fetching airports:",e)}},fetchAvailableFlights:async e=>{try{return(await l.publicAxiosInstance.get("/amadeus/search-flights",{params:e})).data}catch(e){throw console.error("Error fetching available flights:",e),e}}}},3197:(e,t,a)=>{a.d(t,{default:()=>S});var s=a(326),r=a(7577),n=a.n(r),i=a(4773),l=a(7863);let o=i.fC,d=i.xz,c=r.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},n)=>s.jsx(i.h_,{children:s.jsx(i.VY,{ref:n,align:t,sideOffset:a,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));c.displayName=i.VY.displayName;var u=a(5848);let x=({label:e,value:t,onSelectAirport:a,isOpen:n,setIsOpen:i})=>{let[l,x]=(0,r.useState)(""),[m,p]=(0,r.useState)([]),[h,f]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(l.length>2){y(!0);try{let{data:e}=await u.Z.fetchAirports(l);if(e&&e.length>0){let t=e.map(e=>({iataCode:e.iataCode,name:e.name,cityName:e.address.cityName,countryName:e.address.countryName}));p(t)}else p([])}catch(e){console.error("Error fetching airports:",e),p([])}finally{y(!1)}}else p([])})()},[l]);let b=e=>{f(e),x(""),p([]),a(e),i(!1)};return(0,s.jsxs)(o,{open:n,onOpenChange:i,children:[(0,s.jsxs)(d,{className:"w-fit text-gray-600 flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[s.jsx("p",{children:e}),s.jsx("div",{className:"py-2 rounded-md text-2xl font-bold",children:s.jsx("p",{children:h?h.cityName:t})}),(0,s.jsxs)("p",{className:"text-[12px]",children:["[",h?h.iataCode:"SIN","] ",h?h.name:"Changi Airport"]})]}),(0,s.jsxs)(c,{className:"bg-white p-4 rounded-md shadow-lg",children:[s.jsx("input",{type:"text",value:l,onChange:e=>x(e.target.value),placeholder:"Search airports...",className:"w-full border border-gray-300 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:g?s.jsx("p",{className:"text-gray-500 text-center",children:"Loading..."}):m.length>0?m.map(e=>(0,s.jsxs)("div",{onClick:()=>b(e),className:"cursor-pointer p-2 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx("p",{className:"font-bold",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.cityName,", ",e.countryName," (",e.iataCode,")"]})]},e.iataCode)):s.jsx("p",{className:"text-gray-500",children:"No airports found"})})]})]})};var m=a(5079),p=a(7358),h=a(772),f=a(1890),g=a(9183),y=a(1140);function b({className:e,classNames:t,showOutsideDays:a=!0,...r}){return s.jsx(y._W,{showOutsideDays:a,className:(0,l.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,h.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,h.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>s.jsx(f.Z,{className:"h-4 w-4"}),IconRight:({...e})=>s.jsx(g.Z,{className:"h-4 w-4"})},...r})}b.displayName="Calendar";let j=({setDate:e,date:t})=>(0,s.jsxs)(o,{children:[t?s.jsx(d,{children:s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[s.jsx("p",{className:"font-bold text-3xl",children:(0,m.WU)(t,"EEE, MMM d, yyyy").split(",")[1].split(" ")[2]}),(0,s.jsxs)("p",{children:[(0,m.WU)(t,"EEE, MMM d, yyyy").split(",")[1].split(" ")[1],", ",(0,m.WU)(t,"EEE, MMM d, yyyy").split(",")[2]]})]})})}):s.jsx(d,{asChild:!0,children:(0,s.jsxs)(h.z,{variant:"outline",className:(0,l.cn)("w-fit justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(p.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Pick a date"})]})}),s.jsx(c,{className:"w-auto p-0 bg-white",children:s.jsx(b,{mode:"single",selected:t,onSelect:e,initialFocus:!0})})]}),v=({date:e,setDate:t,label:a})=>(0,s.jsxs)("div",{className:"w-fit   text-gray-600  flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[s.jsx("div",{className:"flex justify-center items-center w-fit mb-2",children:s.jsx("p",{children:a})}),s.jsx("div",{className:"ml-4",children:s.jsx(j,{date:e,setDate:t})}),e&&s.jsx("p",{className:"text-[12px]",children:(0,m.WU)(e,"EEE, MMM d, yyyy").split(",")[0]})]}),N=({label:e,adults:t,setAdults:a,childrens:n,setchildrens:i,infants:l,setInfants:u,selectedClass:x,setSelectedClass:m})=>{let[p,f]=(0,r.useState)("");return(0,s.jsxs)(o,{children:[(0,s.jsxs)(d,{className:"w-fit text-gray-600 flex flex-col gap-2 md:border-r transition-colors cursor-pointer hover:bg-blue-100 py-2 px-6",children:[s.jsx("p",{children:e}),s.jsx("div",{className:"py-2 rounded-none w-full font-bold",children:(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"text-2xl",children:[t+n+l," "]}),s.jsx("span",{children:"Traveler(s)"})]})}),s.jsx("p",{className:"text-[12px]",children:x||"Select your travelers"})]}),s.jsx(c,{className:"bg-white p-4 rounded-md shadow-lg",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Adults (12+ Years)"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(h.z,{variant:"outline",onClick:()=>a(Math.max(1,t-1)),children:"-"}),s.jsx("span",{children:t}),s.jsx(h.z,{variant:"outline",onClick:()=>a(t+1),children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"childrens (2-12 Years)"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(h.z,{variant:"outline",onClick:()=>i(Math.max(0,n-1)),children:"-"}),s.jsx("span",{children:n}),s.jsx(h.z,{variant:"outline",onClick:()=>i(n+1),children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Infants (0-2 Years)"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(h.z,{variant:"outline",onClick:()=>u(Math.max(0,l-1)),children:"-"}),s.jsx("span",{children:l}),s.jsx(h.z,{variant:"outline",onClick:()=>{l<t?(u(l+1),f("")):(f("Infants cannot exceed the number of adults."),setTimeout(()=>{f("")},5e3))},children:"+"})]})]}),p&&s.jsx("p",{className:"text-red-600 text-sm",children:p}),s.jsx("hr",{className:"my-2 border-gray-300"}),s.jsx("div",{children:s.jsx("div",{className:"flex flex-col space-y-2",children:["Economy","Premium Economy","Business","First Class"].map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:e,checked:x===e,onChange:()=>m(e),className:"mr-2"}),e]},e))})})]})})]})};var w=a(5047);let S=()=>{let e=(0,w.useRouter)(),[t,a]=n().useState(),[r,i]=n().useState("Singapore"),[l,o]=n().useState("Singapore"),[d,c]=n().useState(1),[u,m]=n().useState(0),[p,h]=n().useState(0),[f,g]=n().useState("Economy"),[y,b]=n().useState(!1),[j,S]=n().useState(!1);return s.jsx("div",{className:"w-fit h-fit p-6 md:p-0 mx-auto text-gray-900 bg-white rounded-lg shadow-lg overflow-hidden",children:(0,s.jsxs)("form",{onSubmit:a=>{a.preventDefault();let s=new URLSearchParams({fromAirport:r,toAirport:l,departureDate:t?.toISOString()||"",adults:d.toString(),childrens:u.toString(),infants:p.toString(),selectedClass:f}).toString();e.push(`/available-flights?${s}`)},className:"flex flex-col md:flex-row",children:[s.jsx(x,{label:"From",value:r,onSelectAirport:e=>{i(e.iataCode),b(!1)},isOpen:y,setIsOpen:b}),s.jsx(x,{label:"To",value:l,onSelectAirport:e=>{o(e.iataCode),S(!1)},isOpen:j,setIsOpen:S}),s.jsx(v,{label:"Departure Date",date:t,setDate:a}),s.jsx(N,{label:"Travelers",adults:d,setAdults:c,childrens:u,setchildrens:m,infants:p,setInfants:h,selectedClass:f,setSelectedClass:g}),s.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Search Flights"})]})})}},772:(e,t,a)=>{a.d(t,{d:()=>o,z:()=>d});var s=a(326),r=a(7577),n=a(4214),i=a(8671),l=a(7863);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...i},d)=>{let c=r?n.g7:"button";return s.jsx(c,{className:(0,l.cn)(o({variant:t,size:a,className:e})),ref:d,...i})});d.displayName="Button"}};